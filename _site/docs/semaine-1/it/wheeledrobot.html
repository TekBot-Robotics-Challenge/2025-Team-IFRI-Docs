<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WheeledRobot Class Documentation | Documentation √âquipe IFRI 2025</title>
  <link rel="stylesheet" href="/assets/css/style.css?v=6408b52a12175e3c1ed23c5c9a9f1329786875ad">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <div class="page-wrapper">
    <div class="sidebar">
  <div class="sidebar-header">
    <img src="/assets/images/logo.png" alt="Logo" class="logo">
    <h2>TRC 2025</h2>
  </div>
  
  <ul class="sidebar-nav">
    <!-- Accueil -->
    <div class="nav-section">
      <div class="nav-section-title">
        <i class="fas fa-home"></i> ACCUEIL
      </div>
      <ul class="nav-items">
        <li class="nav-item ">
          <a href="/">Introduction</a>
        </li>
        <li class="nav-item ">
          <a href="/accueil">Pr√©sentation d√©taill√©e</a>
        </li>
      </ul>
    </div>
    
    <!-- Semaine 1 -->
    <div class="nav-section">
      <div class="nav-section-title">
        <i class="fas fa-calendar-week"></i> SEMAINE 1
      </div>
      <ul class="nav-items">
        <li class="nav-item ">
          <a href="/docs/semaine-1/presentation">Pr√©sentation</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-1/electronique/README">√âlectronique: Gyroscope</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-1/it/robot">IT: Gestion Robot</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-1/mecanique/documentation_meca">M√©canique: Conception</a>
        </li>
      </ul>
    </div>
    
    <!-- Semaine 2 -->
    <div class="nav-section">
      <div class="nav-section-title">
        <i class="fas fa-calendar-week"></i> SEMAINE 2
      </div>
      <ul class="nav-items">
        <li class="nav-item ">
          <a href="/docs/semaine-2/presentation">Pr√©sentation</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-2/electronique">√âlectronique: Bo√Æte noire</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-2/it">IT: ROS2</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-2/mecanique">M√©canique: Interm√©diaire</a>
        </li>
      </ul>
    </div>
    
    <!-- Semaine 3 -->
    <div class="nav-section">
      <div class="nav-section-title">
        <i class="fas fa-calendar-week"></i> SEMAINE 3
      </div>
      <ul class="nav-items">
        <li class="nav-item ">
          <a href="/docs/semaine-3/presentation">Pr√©sentation</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-3/electronique">√âlectronique: Afficheur</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-3/it">IT: Pathfinding</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/semaine-3/mecanique">M√©canique: Avanc√©</a>
        </li>
      </ul>
    </div>
    
    <!-- Test Final -->
    <div class="nav-section">
      <div class="nav-section-title">
        <i class="fas fa-trophy"></i> TEST FINAL
      </div>
      <ul class="nav-items">
        <li class="nav-item ">
          <a href="/docs/test-final/presentation">Pr√©sentation</a>
        </li>
        <li class="nav-item ">
          <a href="/docs/test-final/guide-test-final">Guide du test final</a>
        </li>
      </ul>
    </div>
  </ul>
</div>


    
    <div class="main-content">
      <header class="header">
  <div class="header-title">
    <h1>WheeledRobot Class Documentation</h1>
  </div>
  <div class="header-actions">
    <div class="header-search">
      <input type="text" class="search-bar" placeholder="Rechercher..." id="searchInput">
    </div>
    <div class="header-theme-toggle">
      <button id="themeToggle" aria-label="Changer de th√®me">üåô</button>
    </div>
  </div>
</header>

      
      <div class="markdown-content">
        <h1 id="wheeledrobot-class-documentation"><code class="language-plaintext highlighter-rouge">WheeledRobot</code> Class Documentation</h1>

<p><img src="/docs/semaine-1/it/wheeled-robot.svg" alt="Wheeled Robot" /></p>

<p>The <code class="language-plaintext highlighter-rouge">WheeledRobot</code> class is a concrete implementation of the <code class="language-plaintext highlighter-rouge">Robot</code> abstract base class. It represents a mobile robot that moves using wheels and is capable of navigation, basic obstacle avoidance, and carrying items in a storage bay.</p>

<h2 id="purpose">Purpose</h2>

<ul>
  <li>To simulate a ground-based robot with wheeled locomotion.</li>
  <li>To provide functionalities for movement (forward, backward), rotation, and motor speed control.</li>
  <li>To manage a storage system for collected items.</li>
  <li>To implement basic obstacle detection and avoidance maneuvers.</li>
</ul>

<h2 id="enum-state">Enum: <code class="language-plaintext highlighter-rouge">State</code></h2>
<p>Defines the possible operational states of the <code class="language-plaintext highlighter-rouge">WheeledRobot</code>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">IDLE</code>: Robot is not performing any specific task.</li>
  <li><code class="language-plaintext highlighter-rouge">NAVIGATING</code>: Robot is actively moving towards a target or along a path.</li>
  <li><code class="language-plaintext highlighter-rouge">AVOIDING</code>: Robot is performing an obstacle avoidance maneuver.</li>
  <li><code class="language-plaintext highlighter-rouge">UPDATING_STORAGE</code>: Robot is in the process of adding an item to its storage.</li>
  <li><code class="language-plaintext highlighter-rouge">RETURNING</code>: Robot is navigating back to a home base or charging station (conceptual).</li>
  <li><code class="language-plaintext highlighter-rouge">CHARGING</code>: Robot is currently charging its generator (conceptual).</li>
  <li><code class="language-plaintext highlighter-rouge">SHUTDOWN</code>: Robot is powered off or in a non-operational state.</li>
</ul>

<h2 id="properties">Properties</h2>

<p>Inherits all properties from <code class="language-plaintext highlighter-rouge">Robot</code> (<code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">position</code>, <code class="language-plaintext highlighter-rouge">orientation</code>, <code class="language-plaintext highlighter-rouge">energy_source</code>, <code class="language-plaintext highlighter-rouge">generator_level</code>, <code class="language-plaintext highlighter-rouge">is_active</code>, <code class="language-plaintext highlighter-rouge">sensors</code>).</p>

<h3 id="wheel_base"><code class="language-plaintext highlighter-rouge">wheel_base</code></h3>
<p>The distance between the centers of the robot‚Äôs wheels.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">float</code> (meters)</li>
  <li><strong>Access:</strong> Read-only</li>
</ul>

<h3 id="storage_capacity"><code class="language-plaintext highlighter-rouge">storage_capacity</code></h3>
<p>The maximum number of items the robot can store in its <code class="language-plaintext highlighter-rouge">storage_bag</code>.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">int</code></li>
  <li><strong>Access:</strong> Read-only</li>
</ul>

<h3 id="state"><code class="language-plaintext highlighter-rouge">state</code></h3>
<p>The current operational state of the robot.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">State</code> (Enum)</li>
  <li><strong>Access:</strong> Read-write</li>
</ul>

<h3 id="storage_bag"><code class="language-plaintext highlighter-rouge">storage_bag</code></h3>
<p>A list representing the items currently held by the robot.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">List[Any]</code></li>
  <li><strong>Access:</strong> Read-only (modified via <code class="language-plaintext highlighter-rouge">add_to_storage</code>)</li>
</ul>

<h3 id="obstacle_threshold"><code class="language-plaintext highlighter-rouge">obstacle_threshold</code></h3>
<p>The minimum distance (in meters) at which an object is considered an obstacle.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">float</code></li>
  <li><strong>Access:</strong> Read-write</li>
</ul>

<h3 id="v_lin_cmd"><code class="language-plaintext highlighter-rouge">v_lin_cmd</code></h3>
<p>The commanded linear speed of the robot.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">float</code> (m/s)</li>
  <li><strong>Access:</strong> Read-only (set via <code class="language-plaintext highlighter-rouge">set_motor_speed</code> or internal movement logic)</li>
</ul>

<h3 id="v_ang_cmd"><code class="language-plaintext highlighter-rouge">v_ang_cmd</code></h3>
<p>The commanded angular speed of the robot.</p>
<ul>
  <li><strong>Type:</strong> <code class="language-plaintext highlighter-rouge">float</code> (rad/s)</li>
  <li><strong>Access:</strong> Read-only (set via <code class="language-plaintext highlighter-rouge">set_motor_speed</code> or internal rotation logic)</li>
</ul>

<h2 id="initialization">Initialization</h2>

<h3 id="__init__name-position-orientation-energy_source-wheel_base-storage_capacity"><code class="language-plaintext highlighter-rouge">__init__(name, position, orientation, energy_source, wheel_base, storage_capacity)</code></h3>
<p>Initializes a new <code class="language-plaintext highlighter-rouge">WheeledRobot</code> instance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span>
        <span class="n">orientation</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">energy_source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">wheel_base</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">storage_capacity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Initialize the mobile robot with the given parameters.

        Args:
            name (str): Name of the robot.
            position (Tuple[float, float]): Initial position (x, y) in meters.
            orientation (float): Initial orientation in radians.
            energy_source (str): The energy source used by the robot, must be one of the ENERGY_SOURCE list.
            wheel_base (float): Distance between the wheels in meters.
            storage_capacity (int): Maximum number of items the robot can store.

        ENERGY_SOURCE is a list of valid energy sources:
            - "solar"
            - "fossil_fuel"
            - "electric"

        Raises:
            ValueError: If wheel_base is not positive and storage_capacity is not positive.
        """</span>
        <span class="nb">super</span><span class="p">().</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">,</span> <span class="n">energy_source</span><span class="o">=</span><span class="n">energy_source</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">wheel_base</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">or</span> <span class="n">wheel_base</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"wheel_base must be a positive number."</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">storage_capacity</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">storage_capacity</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"storage_capacity must be a positive integer."</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">_wheel_base</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">wheel_base</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_v_lin_cmd</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># Linear speed command (m/s)
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">_v_ang_cmd</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># Angular speed command (rad/s)
</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_stockage_capacity</span> <span class="o">=</span> <span class="n">storage_capacity</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="n">IDLE</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_obstacle_threshold</span> <span class="o">=</span> <span class="mf">0.3</span> <span class="c1"># Min distance to consider an obstacle (meters)
</span></code></pre></div></div>

<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">name</code> (<code class="language-plaintext highlighter-rouge">str</code>): Name of the robot.</li>
      <li><code class="language-plaintext highlighter-rouge">position</code> (<code class="language-plaintext highlighter-rouge">Tuple[float, float]</code>): Initial (x, y) position in meters.</li>
      <li><code class="language-plaintext highlighter-rouge">orientation</code> (<code class="language-plaintext highlighter-rouge">float</code>): Initial orientation in radians.</li>
      <li><code class="language-plaintext highlighter-rouge">energy_source</code> (<code class="language-plaintext highlighter-rouge">str</code>): Energy source (from <code class="language-plaintext highlighter-rouge">Robot.ENERGY_SOURCE</code>).</li>
      <li><code class="language-plaintext highlighter-rouge">wheel_base</code> (<code class="language-plaintext highlighter-rouge">float</code>): Distance between wheels (must be positive).</li>
      <li><code class="language-plaintext highlighter-rouge">storage_capacity</code> (<code class="language-plaintext highlighter-rouge">int</code>): Maximum storage capacity (must be positive).</li>
    </ul>
  </li>
  <li><strong>Raises:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ValueError</code>: If <code class="language-plaintext highlighter-rouge">wheel_base</code> or <code class="language-plaintext highlighter-rouge">storage_capacity</code> are not positive, or if <code class="language-plaintext highlighter-rouge">energy_source</code> is invalid (via <code class="language-plaintext highlighter-rouge">super().__init__</code>).</li>
      <li><code class="language-plaintext highlighter-rouge">TypeError</code>: For invalid parameter types (via <code class="language-plaintext highlighter-rouge">super().__init__</code> or direct checks).</li>
    </ul>
  </li>
</ul>

<p><strong>Example:</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">robot</span> <span class="kn">import</span> <span class="n">Robot</span>
<span class="kn">from</span> <span class="nn">wheeledRobot</span> <span class="kn">import</span> <span class="n">WheeledRobot</span><span class="p">,</span> <span class="n">State</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="n">rover</span> <span class="o">=</span> <span class="n">WheeledRobot</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"Mars Rover II"</span><span class="p">,</span>
    <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
    <span class="n">orientation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="c1"># Facing positive X-axis
</span>    <span class="n">energy_source</span><span class="o">=</span><span class="s">"solar"</span><span class="p">,</span>
    <span class="n">wheel_base</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># 0.5 meters
</span>    <span class="n">storage_capacity</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Created robot: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> with ID </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="nb">id</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Initial state: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">state</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="properties--setters">Properties &amp; Setters</h4>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">wheel_base</code></td>
      <td>Read-only base width.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">storage_capacity</code></td>
      <td>Read-only max storage.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">state</code></td>
      <td>Getter/setter with validation against <code class="language-plaintext highlighter-rouge">State</code> enum.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">storage_bag</code></td>
      <td>Returns a copy of current stored items.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">obstacle_threshold</code></td>
      <td>Getter/setter for proximity threshold.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">v_lin_cmd</code> / <code class="language-plaintext highlighter-rouge">v_ang_cmd</code></td>
      <td>Read-only linear and angular speed commands.</td>
    </tr>
  </tbody>
</table>

<h2 id="methods">Methods</h2>

<h3 id="set_motor_speedleft-right"><code class="language-plaintext highlighter-rouge">set_motor_speed(left, right)</code></h3>
<p>Sets the desired speeds for the left and right wheels, which in turn define the robot‚Äôs linear and angular velocity.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">set_motor_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Define motors speeds for left and right wheels.

        Args:
            left (float): Speed for the left wheel (m/s).
            right (float): Speed for the right wheel (m/s).
        Raises:
            ValueError: If left or right speed is not a number.
        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"left speed must be a number."</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"right speed must be a number."</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_v_lin_cmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_v_ang_cmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="p">.</span><span class="n">wheel_base</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Motors set: v=</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_v_lin_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">, œâ=</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_v_ang_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">left</code> (<code class="language-plaintext highlighter-rouge">float</code>): Speed for the left wheel (m/s).</li>
      <li><code class="language-plaintext highlighter-rouge">right</code> (<code class="language-plaintext highlighter-rouge">float</code>): Speed for the right wheel (m/s).</li>
    </ul>
  </li>
  <li><strong>Description:</strong> Calculates and sets <code class="language-plaintext highlighter-rouge">_v_lin_cmd</code> and <code class="language-plaintext highlighter-rouge">_v_ang_cmd</code> based on differential drive kinematics. Logs the motor settings.</li>
  <li><strong>Raises:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ValueError</code>: If <code class="language-plaintext highlighter-rouge">left</code> or <code class="language-plaintext highlighter-rouge">right</code> speed is not a number (Note: original code raises this, but <code class="language-plaintext highlighter-rouge">isinstance</code> check is for <code class="language-plaintext highlighter-rouge">(int, float)</code> which are numbers. Perhaps meant for non-numeric strings if parsing was involved, but current implementation is fine).</li>
    </ul>
  </li>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">None</code></li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">rover</span><span class="p">.</span><span class="n">set_motor_speed</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span> 
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Linear speed: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">v_lin_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> m/s, Angular speed: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">v_ang_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> rad/s"</span><span class="p">)</span>

<span class="n">rover</span><span class="p">.</span><span class="n">set_motor_speed</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">right</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Linear speed: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">v_lin_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> m/s, Angular speed: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">v_ang_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> rad/s"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="add_to_storageitem"><code class="language-plaintext highlighter-rouge">add_to_storage(item)</code></h3>
<p>Adds an item to the robot‚Äôs <code class="language-plaintext highlighter-rouge">storage_bag</code> if there is capacity.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">add_to_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s">"""
    Add an item to the robot's storage bag.
    
    Args:
        item (Any): The item to be added.
    
    Returns:
        bool: True if the item was added, False if storage is full.
    """</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_stockage_capacity</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Storage is full, cannot add item."</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="n">UPDATING_STORAGE</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Item added to storage. Current count: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">True</span>
</code></pre></div></div>
<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">item</code> (<code class="language-plaintext highlighter-rouge">Any</code>): The item to be added.</li>
    </ul>
  </li>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">bool</code> - <code class="language-plaintext highlighter-rouge">True</code> if the item was added, <code class="language-plaintext highlighter-rouge">False</code> if storage is full.</li>
  <li><strong>Description:</strong> Changes robot <code class="language-plaintext highlighter-rouge">state</code> to <code class="language-plaintext highlighter-rouge">UPDATING_STORAGE</code> during the operation. Logs the action.</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rock_sample</span> <span class="o">=</span> <span class="p">{</span><span class="s">"type"</span><span class="p">:</span> <span class="s">"igneous"</span><span class="p">,</span> <span class="s">"weight_kg"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="k">if</span> <span class="n">rover</span><span class="p">.</span><span class="n">add_to_storage</span><span class="p">(</span><span class="n">rock_sample</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Added '</span><span class="si">{</span><span class="n">rock_sample</span><span class="p">[</span><span class="s">'type'</span><span class="p">]</span><span class="si">}</span><span class="s">' to storage. Bag: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">storage_bag</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Storage is full."</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="movedirection-distance"><code class="language-plaintext highlighter-rouge">move(direction, distance)</code></h3>
<p>Moves the robot forward or backward by a specified distance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">is_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Cannot move: Robot is inactive."</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"distance must be a number."</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"distance must be a non-negative number."</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">"forward"</span><span class="p">,</span> <span class="s">"backward"</span><span class="p">]:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">"Invalid move direction. Use 'forward', 'backward'"</span><span class="p">)</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"move direction must be 'forward', 'backward'."</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="n">NAVIGATING</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">orientation</span> <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="s">"forward"</span> <span class="k">else</span> <span class="bp">self</span><span class="p">.</span><span class="n">orientation</span> <span class="o">+</span> <span class="n">math</span><span class="p">.</span><span class="n">pi</span>

        <span class="c1"># Compute new position based on distance and angle
</span>        <span class="n">dx</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        <span class="n">new_position</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dy</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_consume_for_motion</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">new_position</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Moved </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s"> by </span><span class="si">{</span><span class="n">distance</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">m to </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">direction</code> (<code class="language-plaintext highlighter-rouge">str</code>): ‚Äúforward‚Äù or ‚Äúbackward‚Äù.</li>
      <li><code class="language-plaintext highlighter-rouge">distance</code> (<code class="language-plaintext highlighter-rouge">float</code>): The distance to move in meters (must be non-negative).</li>
    </ul>
  </li>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">None</code></li>
  <li><strong>Description:</strong> Updates the robot‚Äôs <code class="language-plaintext highlighter-rouge">position</code>. Consumes energy based on distance. Sets <code class="language-plaintext highlighter-rouge">state</code> to <code class="language-plaintext highlighter-rouge">NAVIGATING</code>. Logs the movement.</li>
  <li><strong>Raises:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ValueError</code>: If <code class="language-plaintext highlighter-rouge">distance</code> is negative or <code class="language-plaintext highlighter-rouge">direction</code> is invalid.</li>
      <li><code class="language-plaintext highlighter-rouge">TypeError</code>: If <code class="language-plaintext highlighter-rouge">distance</code> is not a number.</li>
    </ul>
  </li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">rover</span><span class="p">.</span><span class="n">generator_level</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Ensure enough energy
</span><span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Initial position: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="s">"forward"</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"New position: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="s">, Energy: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">generator_level</span><span class="si">}</span><span class="s">%"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="rotateangle"><code class="language-plaintext highlighter-rouge">rotate(angle)</code></h3>
<p>Rotates the robot to a new absolute orientation.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">is_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Cannot rotate: Robot is inactive."</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_consume_for_rotation</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">angle</span>
</code></pre></div></div>

<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">angle</code> (<code class="language-plaintext highlighter-rouge">float</code>): The new absolute orientation in radians.</li>
    </ul>
  </li>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">None</code></li>
  <li><strong>Description:</strong> Updates the robot‚Äôs <code class="language-plaintext highlighter-rouge">orientation</code>. Consumes energy based on the rotation. Logs the rotation. (Note: The implementation sets <code class="language-plaintext highlighter-rouge">self.orientation = angle</code> directly, meaning it‚Äôs an absolute orientation, not a relative turn. The energy consumption logic <code class="language-plaintext highlighter-rouge">_consume_for_rotation(angle)</code> might imply relative rotation if <code class="language-plaintext highlighter-rouge">angle</code> is the change, but the assignment is absolute.)</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">rover</span><span class="p">.</span><span class="n">generator_level</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Initial orientation: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">orientation</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> rad"</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"New orientation: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">orientation</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> rad, Energy: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">generator_level</span><span class="si">}</span><span class="s">%"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="stop"><code class="language-plaintext highlighter-rouge">stop()</code></h3>
<p>Stops all robot movement and deactivates it.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">is_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Cannot stop: Robot is inactive."</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">_v_lin_cmd</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_v_ang_cmd</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Robot stopped."</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">None</code></li>
  <li><strong>Description:</strong> Sets <code class="language-plaintext highlighter-rouge">_v_lin_cmd</code> and <code class="language-plaintext highlighter-rouge">_v_ang_cmd</code> to 0.0. Sets <code class="language-plaintext highlighter-rouge">is_active</code> to <code class="language-plaintext highlighter-rouge">False</code>. Logs the stop action.</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="s">"forward"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">stop</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Robot active: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">is_active</span><span class="si">}</span><span class="s">, Linear speed: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">v_lin_cmd</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="detect_obstacleobstacle_position"><code class="language-plaintext highlighter-rouge">detect_obstacle(obstacle_position)</code></h3>
<p>Checks if an obstacle is detected within the <code class="language-plaintext highlighter-rouge">obstacle_threshold</code> distance from the robot‚Äôs current position.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">detect_obstacle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obstacle_position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="s">"""
        Check if an obstacle is detected within the threshold distance.
        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obstacle_position</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">obstacle_position</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"obstacle_position must be a tuple (x, y)."</span><span class="p">)</span>
        
        <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">distance_to</span><span class="p">(</span><span class="n">obstacle_position</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">_obstacle_threshold</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s">"Obstacle detected at </span><span class="si">{</span><span class="n">obstacle_position</span><span class="si">}</span><span class="s"> (distance: </span><span class="si">{</span><span class="n">distance</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">m)"</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">obstacle_position</code> (<code class="language-plaintext highlighter-rouge">Tuple[float, float]</code>): The (x, y) coordinates of the potential obstacle.</li>
    </ul>
  </li>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">bool</code> - <code class="language-plaintext highlighter-rouge">True</code> if an obstacle is detected, <code class="language-plaintext highlighter-rouge">False</code> otherwise.</li>
  <li><strong>Description:</strong> Logs if an obstacle is detected. Changes <code class="language-plaintext highlighter-rouge">state</code> to <code class="language-plaintext highlighter-rouge">AVOIDING</code> if an obstacle is found.</li>
  <li><strong>Raises:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">TypeError</code>: If <code class="language-plaintext highlighter-rouge">obstacle_position</code> is not a tuple of two numbers.</li>
    </ul>
  </li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">obstacle_threshold</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># meters
</span><span class="n">nearby_rock</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span> <span class="c1"># 0.4m away
</span><span class="n">far_rock</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>    <span class="c1"># 1.0m away
</span><span class="k">if</span> <span class="n">rover</span><span class="p">.</span><span class="n">detect_obstacle</span><span class="p">(</span><span class="n">nearby_rock</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Obstacle detected at </span><span class="si">{</span><span class="n">nearby_rock</span><span class="si">}</span><span class="s">! State: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">state</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"No obstacle at </span><span class="si">{</span><span class="n">nearby_rock</span><span class="si">}</span><span class="s">."</span><span class="p">)</span>

<span class="k">if</span> <span class="n">rover</span><span class="p">.</span><span class="n">detect_obstacle</span><span class="p">(</span><span class="n">far_rock</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Obstacle detected at </span><span class="si">{</span><span class="n">far_rock</span><span class="si">}</span><span class="s">!"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"No obstacle at </span><span class="si">{</span><span class="n">far_rock</span><span class="si">}</span><span class="s">. State: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">state</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="avoid_obstacle"><code class="language-plaintext highlighter-rouge">avoid_obstacle()</code></h3>
<p>A simple maneuver to avoid a detected obstacle.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    def avoid_obstacle(self) -&gt; bool:
        """Avoid an obstacle by rotating and moving around it."""
        if not self.is_active:
            self._logger.warning("Cannot avoid obstacle: Robot is inactive.")
            return False
        
        self.rotate(math.pi / 2)  # Rotate 90 degrees
        self.move("forward", 0.5)  # Move forward 0.5 meters
        self._logger.info("Obstacle avoided by rotating and moving forward.")
        return True
</code></pre></div></div>

<ul>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">bool</code> - <code class="language-plaintext highlighter-rouge">True</code> if the maneuver was attempted (assumes success for this simulation level).</li>
  <li><strong>Description:</strong> Rotates the robot 90 degrees (œÄ/2 radians) and moves forward 0.5 meters. Logs the action. Requires the robot to be active.</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">rover</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">rover</span><span class="p">.</span><span class="n">generator_level</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">if</span> <span class="n">rover</span><span class="p">.</span><span class="n">detect_obstacle</span><span class="p">((</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Avoiding obstacle. Initial pos: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="s">, orient: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">orientation</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="n">rover</span><span class="p">.</span><span class="n">avoid_obstacle</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"After avoidance. New pos: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="s">, orient: </span><span class="si">{</span><span class="n">rover</span><span class="p">.</span><span class="n">orientation</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="is_storage_full"><code class="language-plaintext highlighter-rouge">is_storage_full()</code></h3>
<p>Checks if the robot‚Äôs <code class="language-plaintext highlighter-rouge">storage_bag</code> has reached its <code class="language-plaintext highlighter-rouge">storage_capacity</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">is_storage_full</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="s">"""Check if the storage bag is full."""</span>
        <span class="n">full</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_stockage_capacity</span>
        <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Storage is full."</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full</span>
</code></pre></div></div>
<ul>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">bool</code> - <code class="language-plaintext highlighter-rouge">True</code> if storage is full, <code class="language-plaintext highlighter-rouge">False</code> otherwise.</li>
  <li><strong>Description:</strong> Logs if storage is full.</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rover</span><span class="p">.</span><span class="n">storage_capacity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">rover</span><span class="p">.</span><span class="n">add_to_storage</span><span class="p">(</span><span class="s">"sample1"</span><span class="p">)</span>
<span class="k">if</span> <span class="n">rover</span><span class="p">.</span><span class="n">is_storage_full</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Storage is now full."</span><span class="p">)</span>
<span class="n">rover</span><span class="p">.</span><span class="n">add_to_storage</span><span class="p">(</span><span class="s">"sample2"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="status"><code class="language-plaintext highlighter-rouge">status()</code></h3>
<p>Provides a string summarizing the current status of the <code class="language-plaintext highlighter-rouge">WheeledRobot</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="s">"""
        Get the current status of the robot.
        Returns:
            str: A string describing the robot's status.
        """</span>
        <span class="n">status</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s">"Robot '</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">' Status:</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Position: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">position</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Orientation: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">orientation</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> radians</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Energy Level: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">generator_level</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"State: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Storage Capacity: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_storage_bag</span><span class="p">)</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_stockage_capacity</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Linear Speed Command: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_v_lin_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> m/s</span><span class="se">\n</span><span class="s">"</span>
            <span class="sa">f</span><span class="s">"Angular Speed Command: </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_v_ang_cmd</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> rad/s</span><span class="se">\n</span><span class="s">"</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">status</span>
</code></pre></div></div>

<ul>
  <li><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">str</code></li>
  <li><strong>Description:</strong> Includes ID, name, position, orientation, state, storage count/capacity, active status, and generator level.</li>
  <li><strong>Example:</strong>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">rover</span><span class="p">.</span><span class="n">status</span><span class="p">())</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="protected-methods-for-internal-use">Protected Methods (for internal use)</h2>

<h3 id="_consume_for_motiondistance"><code class="language-plaintext highlighter-rouge">_consume_for_motion(distance)</code></h3>
<p>Reduces energy based on the distance moved.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">_consume_for_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Consume energy proportionally to the distance moved.
        Args:
            distance (float): Distance moved in meters.
        Raises:
            ValueError: If distance is not a number or is not positive.
        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"distance must be a number."</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_logger</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">"Distance must be positive for energy consumption."</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="n">amount</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="c1"># 0.5% per meter
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">consume_energy</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">distance</code> (<code class="language-plaintext highlighter-rouge">float</code>): The distance moved.</li>
    </ul>
  </li>
  <li><strong>Description:</strong> Calls <code class="language-plaintext highlighter-rouge">self.consume_energy()</code> with a calculated amount (e.g., <code class="language-plaintext highlighter-rouge">distance * 0.5</code>).</li>
</ul>

<h3 id="_consume_for_rotationangle"><code class="language-plaintext highlighter-rouge">_consume_for_rotation(angle)</code></h3>
<p>Reduces energy based on the angle rotated.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">_consume_for_rotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Consume energy proportionally to the rotation.
        """</span>
        <span class="n">amount</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.002</span>  <span class="c1"># 0.002% per degree
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">consume_energy</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li><strong>Parameters:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">angle</code> (<code class="language-plaintext highlighter-rouge">float</code>): The angle of rotation (absolute or relative, depending on context of call).</li>
    </ul>
  </li>
  <li><strong>Description:</strong> Calls <code class="language-plaintext highlighter-rouge">self.consume_energy()</code> with a calculated amount (e.g., <code class="language-plaintext highlighter-rouge">abs(angle) * 0.1</code>).</li>
</ul>

<h2 id="example-scenario-basic-navigation-and-collection">Example Scenario: Basic Navigation and Collection</h2>

<p>This scenario demonstrates creating a <code class="language-plaintext highlighter-rouge">WheeledRobot</code>, moving it, detecting an item (simulated), and adding it to storage.</p>

<p><a href="../../tests/test_wheeledrobot.py">Test WheeledRobot Example</a></p>

      </div>
      
      <footer class="site-footer">
        <p>&copy; 2025 Documentation √âquipe IFRI 2025. Tous droits r√©serv√©s.</p>
      </footer>
    </div>
  </div>

  <script src="/assets/js/main.js"></script>
</body>
</html>
      <footer>
        <p>&copy; 2025 √âquipe IFRI. Tous droits r√©serv√©s.</p>
      </footer>
    </div>
  </div>
</body>
</html>
